{"remainingRequest":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/babel-loader/lib/index.js!/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/src/components/ArquivosDiversos/Modal/ModalUploadXML.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/src/components/ArquivosDiversos/Modal/ModalUploadXML.vue","mtime":1678361197239},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/babel.config.js","mtime":1678361197227},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3ByaXNjaWxhX2Zsb3JpYW5vL0RvY3VtZW50b3MvZGl2ZXJzb3MvcmF0ZWlvLWltcG9ydGFjYW8tYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLm1hdGNoLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IEZvcm0gZnJvbSAiQC9zZXJ2aWNlcy9tb2R1bGVzL2Zvcm0iOwppbXBvcnQgTW9kYWxSZXN1bW9YTUwgZnJvbSAiLi9Nb2RhbFJlc3Vtb1hNTC52dWUiOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTW9kYWxSZXN1bW9YTUw6IE1vZGFsUmVzdW1vWE1MCiAgfSwKICBuYW1lOiAiTW9kYWxVcGxvYWRYTUwiLAogIHByb3BzOiBbInZpc2libGUiXSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaGFuZGxlTW9kYWxSZXN1bW86IGZhbHNlLAogICAgICBkYWRvc194bWw6ICIiLAogICAgICBkcmFnZ2luZzogZmFsc2UsCiAgICAgIGFycXVpdm86IG51bGwsCiAgICAgIGFycXVpdm9FcnJvOiBmYWxzZSwKICAgICAgbG9hZGluZ0VudmlvOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBtb2RhbFVwbG9hZDogewogICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy52aXNpYmxlOwogICAgICB9LAogICAgICBzZXQ6IGZ1bmN0aW9uIHNldCh2YWx1ZSkgewogICAgICAgIGlmICghdmFsdWUpIHsKICAgICAgICAgIHRoaXMuJGVtaXQoImNsb3NlIik7CiAgICAgICAgICB0aGlzLmFycXVpdm8gPSBudWxsOwogICAgICAgICAgdGhpcy5hcnF1aXZvRXJybyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGxvYWRpbmc6IHsKICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmxvYWRpbmcubG9hZGluZzsKICAgICAgfSwKICAgICAgc2V0OiBmdW5jdGlvbiBzZXQobmV3VmFsdWUpIHsKICAgICAgICBpZiAobmV3VmFsdWUgIT0gdGhpcy5sb2FkaW5nKSB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImxvYWRpbmcvc2V0TG9hZGluZyIsIG5ld1ZhbHVlKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBhcnF1aXZvOiBmdW5jdGlvbiBhcnF1aXZvKHZhbCkgewogICAgICBpZiAoIXZhbCkgewogICAgICAgIHRoaXMuYXJxdWl2b0Vycm8gPSBmYWxzZTsKICAgICAgICB0aGlzLmxvYWRpbmdFbnZpbyA9IGZhbHNlOwogICAgICB9CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBmZWNoYXI6IGZ1bmN0aW9uIGZlY2hhcigpIHsKICAgICAgdGhpcy5tb2RhbFVwbG9hZCA9IGZhbHNlOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoIm1vZGFsTm92YVNpbXVsYWNhby9zZXRNb2RhbE5vdmFTaW11bGFjYW8iLCBmYWxzZSk7CiAgICB9LAogICAgZmVjaGFyTW9kYWxSZXN1bW86IGZ1bmN0aW9uIGZlY2hhck1vZGFsUmVzdW1vKCkgewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoIm1vZGFsTm92YVNpbXVsYWNhby9zZXRNb2RhbE5vdmFTaW11bGFjYW8iLCBmYWxzZSk7CiAgICAgIHRoaXMuaGFuZGxlTW9kYWxSZXN1bW8gPSBmYWxzZTsKICAgIH0sCiAgICBlbnZpYXJYTUw6IGZ1bmN0aW9uIGVudmlhclhNTCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIGZvcm1EYXRhLCByZXNwb25zZSwgaWREZWNsYXJhY2FvLCBkZWNsYXJhY2FvLCBhZGljb2VzOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmIChfdGhpcy5hcnF1aXZvKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZ0VudmlvID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoImFycXVpdm8iLCBfdGhpcy5hcnF1aXZvKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRyb290LiRhcGkucG9zdEZpbGVYTUwoIi9kZWNsYXJhY2FvL2ltcG9ydGFyWE1MIiwgZm9ybURhdGEpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZERlY2xhcmFjYW8gPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRyb290LiRhcGkuZ2V0KCIvZGVjbGFyYWNhby9saXN0YXIvIiArIGlkRGVjbGFyYWNhbyk7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBkZWNsYXJhY2FvID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIGFkaWNvZXMgPSBfdGhpcy4kc3RvcmUuZGlzcGF0Y2goImFkaWNvZXMvY2FycmVnYXJBZGljb2VzIiwgaWREZWNsYXJhY2FvKTsKICAgICAgICAgICAgICAgIFByb21pc2UuYWxsKFtkZWNsYXJhY2FvLCBhZGljb2VzXSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmFycXVpdm8gPSBudWxsOwogICAgICAgICAgICAgICAgICBfdGhpcy5kYWRvc194bWwgPSBkZWNsYXJhY2FvLmRhdGE7CiAgICAgICAgICAgICAgICAgIHZhciBmb3JtID0gbmV3IEZvcm0oKTsKICAgICAgICAgICAgICAgICAgZm9ybS5jYXJyZWdhckluZm9Db25zdWx0YShkZWNsYXJhY2FvLmRhdGEpOwogICAgICAgICAgICAgICAgICBmb3JtLmNhcnJlZ2FyUmVzdWx0YWRvVGVsYVNpbXBsZXMoZGVjbGFyYWNhby5kYXRhKTsKICAgICAgICAgICAgICAgICAgX3RoaXMuaGFuZGxlTW9kYWxSZXN1bW8gPSB0cnVlOwogICAgICAgICAgICAgICAgICBfdGhpcy5tb2RhbFVwbG9hZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICBfdGhpcy5sb2FkaW5nRW52aW8gPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMubG9hZGluZ0VudmlvID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIF90aGlzLmhhbmRsZU1vZGFsUmVzdW1vID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgICAgX3RoaXMuYXJxdWl2b0Vycm8gPSB0cnVlOwogICAgICAgICAgICAgICAgX3RoaXMuaGFuZGxlTW9kYWxSZXN1bW8gPSBmYWxzZTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBvbkNoYW5nZTogZnVuY3Rpb24gb25DaGFuZ2UoZSkgewogICAgICB2YXIgZmlsZXMgPSBlLnRhcmdldC5maWxlcyB8fCBlLmRhdGFUcmFuc2Zlci5maWxlczsKCiAgICAgIGlmICghZmlsZXMubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdmFyIGZpbGUgPSBmaWxlc1swXTsKCiAgICAgIGlmICghZmlsZS50eXBlLm1hdGNoKCJ0ZXh0L3htbCIpKSB7CiAgICAgICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlOwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgdGhpcy5hcnF1aXZvID0gZmlsZTsKICAgICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlOwogICAgfQogIH0KfTs="},{"version":3,"sources":["ModalUploadXML.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-dialog v-model=\"modalUpload\" width=\"650px\" persistent>\n    <div class=\"div-upload-xml\">\n      <v-row>\n        <v-col align=\"start\" cols=\"10\">\n          <span class=\"span-criar ml-2 mt-2\">Criar Consulta</span>\n          <span class=\"span-importar ml-2\">Importar DI</span>\n        </v-col>\n        <v-col align=\"end\" cols=\"2\">\n          <v-btn @click=\"fechar()\" icon color=\"red\">\n            <v-icon>mdi-close</v-icon>\n          </v-btn>\n        </v-col>\n      </v-row>\n\n      <p class=\"text-center texto-envio my-4\">Faça o envio do arquivo .xml para importar os dados da DI.</p>\n\n      <div class=\"quadro-alerta-romaneio\">\n        <v-icon color=\"#FFC400\">mdi-alert-outline</v-icon>\n        É necessário estar com o <strong>Romaneio de Carga</strong> em mãos para prosseguir.\n      </div>\n\n      <div\n        v-if=\"!arquivo\"\n        class=\"text-center div-arquivo-vazio my-4\"\n        :class=\"dragging ? 'arrastar-over' : ''\"\n      >\n        <v-icon color=\"#0098DA\" class=\"pt-10\" size=\"50\">mdi-cloud-upload-outline</v-icon>\n        <div class=\"pt-4\">\n          <p class=\"span-importar ma-0\">Enviar Arquivo</p>\n          <span class=\"texto-envio\">Arraste ou <a href=\"#\">clique aqui</a> para enviar a DI no formato XML.</span>\n        </div>\n        <input\n          class=\"input-arquivo\"\n          @dragenter=\"dragging = true\"\n          @dragleave=\"dragging = false\"\n          type=\"file\"\n          @change=\"onChange\"\n          @drag=\"onChange\"\n          accept=\".xml\"\n        />\n      </div>\n\n      <div v-else class=\"text-center div-arquivo-selecionado\">\n        <v-icon color=\"#0098DA\" class=\"pt-4\" size=\"50\">mdi-cloud-upload-outline</v-icon>\n        <p class=\"span-arquivo-selecionado ma-0\">Arquivo Selecionado</p>\n        <p class=\"span-nome-arquivo mt-2\">{{ arquivo.name }}</p>\n        <v-row class=\"quadro-aviso-envio mb-2\">\n          <v-col cols=\"1\" align=\"center\">\n            <v-icon small color=\"#17C3E6\">mdi-information-outline</v-icon>\n          </v-col>\n          <v-col cols=\"11\" align=\"start\">\n            O arquivo enviado <strong>não será armazenado</strong> em nossos servidores.<br />\n            A consulta será mantida por 120 dias.\n          </v-col>\n        </v-row>\n        <div class=\"div-botao-trocar mr-1 mb-1\">\n          <v-btn\n            text\n            class=\"text-none\"\n            elevation=\"0\"\n            color=\"primary\"\n            small\n            @click=\"arquivo = null\"\n            :disabled=\"loadingEnvio && !arquivoErro\"\n          >\n            Trocar Arquivo\n            <v-icon color=\"primary\" right small>mdi-cloud-upload-outline</v-icon>\n          </v-btn>\n        </div>\n      </div>\n\n      <div v-if=\"arquivo\" class=\"div-botao-criar mt-4 mr-2\">\n        <v-btn\n          color=\"primary\"\n          small\n          @click=\"enviarXML()\"\n          v-if=\"!arquivoErro\"\n          :loading=\"loadingEnvio\"\n        >\n          Criar Consulta <v-icon small right>mdi-arrow-right</v-icon>\n        </v-btn>\n        <v-btn disabled v-else text>Arquivo inválido!</v-btn>\n      </div>\n    </div>\n\n    <ModalResumoXML\n      v-if=\"dados_xml.bl_xml == 1\"\n      :visible=\"handleModalResumo\"\n      :dados=\"dados_xml\"\n      @fechar=\"fecharModalResumo()\"\n    />\n  </v-dialog>\n</template>\n<script>\nimport Form from \"@/services/modules/form\";\nimport ModalResumoXML from \"./ModalResumoXML.vue\";\n\nexport default {\n  components: { ModalResumoXML },\n\n  name: \"ModalUploadXML\",\n\n  props: [\"visible\"],\n\n  data() {\n    return {\n      handleModalResumo: false,\n      dados_xml: \"\",\n      dragging: false,\n      arquivo: null,\n      arquivoErro: false,\n      loadingEnvio: false,\n    };\n  },\n\n  computed: {\n    modalUpload: {\n      get() {\n        return this.visible;\n      },\n      set(value) {\n        if (!value) {\n          this.$emit(\"close\");\n          this.arquivo = null;\n          this.arquivoErro = false;\n        }\n      },\n    },\n\n    loading: {\n      get() {\n        return this.$store.state.loading.loading;\n      },\n      set(newValue) {\n        if (newValue != this.loading) {\n          this.$store.commit(\"loading/setLoading\", newValue);\n        }\n      },\n    },\n  },\n\n  watch: {\n    arquivo(val) {\n      if (!val) {\n        this.arquivoErro = false;\n        this.loadingEnvio = false;\n      }\n    },\n  },\n\n  methods: {\n    fechar() {\n      this.modalUpload = false\n      this.$store.commit(\"modalNovaSimulacao/setModalNovaSimulacao\", false);\n    },\n\n    fecharModalResumo() {\n      this.$store.commit(\"modalNovaSimulacao/setModalNovaSimulacao\", false);\n      this.handleModalResumo = false;\n    },\n\n    async enviarXML() {\n      if (!this.arquivo) {\n        return;\n      }\n\n      this.loadingEnvio = true;\n\n      let formData = new FormData();\n      formData.append(\"arquivo\", this.arquivo);\n\n      let response = await this.$root.$api.postFileXML(\"/declaracao/importarXML\", formData);\n\n      if (response.status == 200) {\n        let idDeclaracao = response.data;\n\n        let declaracao = await this.$root.$api.get(\"/declaracao/listar/\" + idDeclaracao);\n        let adicoes = this.$store.dispatch(\"adicoes/carregarAdicoes\", idDeclaracao);\n\n        Promise.all([declaracao, adicoes]).then(() => {\n          this.arquivo = null;\n          this.dados_xml = declaracao.data;\n\n          let form = new Form();\n          form.carregarInfoConsulta(declaracao.data);\n          form.carregarResultadoTelaSimples(declaracao.data);\n\n          this.handleModalResumo = true;\n          this.modalUpload = false;\n          this.loadingEnvio = false;\n        }).catch(() => {\n          this.loadingEnvio = false;\n          this.handleModalResumo = false;\n        });\n      } else {\n        this.arquivoErro = true;\n        this.handleModalResumo = false;\n      }\n    },\n\n    onChange(e) {\n      var files = e.target.files || e.dataTransfer.files;\n\n      if (!files.length) {\n        this.dragging = false;\n        return;\n      }\n\n      let file = files[0];\n\n      if (!file.type.match(\"text/xml\")) {\n        this.dragging = false;\n        return;\n      }\n\n      this.arquivo = file;\n      this.dragging = false;\n    },\n  },\n};\n</script>\n<style scoped>\n.div-upload-xml {\n  background-color: white !important;\n  padding: 14px;\n  height: 450px;\n  overflow: hidden;\n}\n\n.span-criar {\n  font: normal normal 800 20px/27px Mulish;\n  letter-spacing: 0px;\n  color: #2d5071;\n}\n\n.span-importar {\n  font: normal normal normal 20px/27px Mulish;\n  letter-spacing: 0px;\n  color: #2d5071;\n}\n\n.texto-envio {\n  font: normal normal normal 12px/16px Mulish;\n  letter-spacing: 0px;\n  color: #010b14;\n}\n\n.quadro-alerta-romaneio {\n  background: #fffcf2 0% 0% no-repeat padding-box;\n  border: 1px solid #00000000;\n  font: normal normal normal 12px/16px Mulish;\n  padding: 16.5px;\n  width: 520px;\n  margin: auto;\n}\n\n.div-arquivo-vazio {\n  width: 520px;\n  height: 200px;\n  margin: auto;\n  border: 2px dashed #acb6bf;\n  border-radius: 8px;\n}\n\n.div-arquivo-selecionado {\n  width: 520px;\n  margin: auto;\n  border: 2px solid #0098da;\n  border-radius: 8px;\n}\n\n.arrastar-over {\n  background: #fff;\n  border: 2px dashed gray;\n  opacity: 0.3;\n}\n\n.input-arquivo {\n  position: relative;\n  cursor: pointer;\n  top: -160px;\n  height: 200px !important;\n  width: 100%;\n  opacity: 0;\n}\n\n.span-arquivo-selecionado {\n  color: #0098da;\n  font: normal normal normal 12px/16px Mulish;\n  letter-spacing: 0px;\n}\n\n.span-nome-arquivo {\n  font: normal normal 800 14px/24px Mulish;\n  letter-spacing: 0px;\n  color: #2d5071;\n}\n\n.quadro-aviso-envio {\n  background: #f2fdff 0% 0% no-repeat padding-box;\n  border: 1px solid #00000000;\n  font: normal normal normal 12px/16px Mulish;\n  letter-spacing: -0.5px;\n  width: 460px;\n  margin: auto;\n}\n\n.div-botao-trocar {\n  text-align: right;\n}\n\n.div-botao-criar {\n  text-align: right;\n}\n</style>"],"sourceRoot":"src/components/ArquivosDiversos/Modal"}]}