{"remainingRequest":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/src/components/ArquivosDiversos/Modal/ModalTermos.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/src/components/ArquivosDiversos/Modal/ModalTermos.vue","mtime":1678361197239},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTW9kYWxUZXJtb3MiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY2VpdGU6IGZhbHNlLAogICAgICBjaGVja2VkX3Rlcm1vX3VzbzogZmFsc2UsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIG1vZGFsVGVybW86IHsKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS50ZXJtby5tb2RhbFRlcm1vOwogICAgICB9LAogICAgICBzZXQobmV3VmFsdWUpIHsKICAgICAgICBpZiAobmV3VmFsdWUgIT0gdGhpcy5tb2RhbFRlcm1vKSB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInRlcm1vL3NldE1vZGFsVGVybW8iLCBuZXdWYWx1ZSk7CiAgICAgICAgfQogICAgICB9LAogICAgfSwKICAgIHNuYWNrYmFyVGVybW86IHsKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS50ZXJtby5zbmFja2JhclRlcm1vOwogICAgICB9LAogICAgICBzZXQobmV3VmFsdWUpIHsKICAgICAgICBpZiAobmV3VmFsdWUgIT0gdGhpcy5zbmFja2JhclRlcm1vKSB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoInRlcm1vL3NldHNuYWNrYmFyVGVybW8iLCBuZXdWYWx1ZSk7CiAgICAgICAgfQogICAgICB9LAogICAgfSwKICAgIGhhbmRsZU5vdmFTaW11bGFjYW86IHsKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5tb2RhbE5vdmFTaW11bGFjYW8ubW9kYWxOb3ZhU2ltdWxhY2FvOwogICAgICB9LAogICAgICBzZXQobmV3VmFsdWUpIHsKICAgICAgICBpZiAobmV3VmFsdWUgIT0gdGhpcy5tb2RhbFNpbXVsYWNhbykgewogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KAogICAgICAgICAgICAibW9kYWxOb3ZhU2ltdWxhY2FvL3NldE1vZGFsTm92YVNpbXVsYWNhbyIsCiAgICAgICAgICAgIG5ld1ZhbHVlCiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgfSwKICAgIH0sCiAgICAuLi5tYXBHZXR0ZXJzKCJhdXRoIiwgewogICAgICBpZF91c3VhcmlvOiAiZ2V0SWRVc3VhcmlvIiwKICAgIH0pLAogIH0sCiAgd2F0Y2g6IHsKICAgIG1vZGFsVGVybW8oKSB7CiAgICAgIHRoaXMuY2hlY2tlZF90ZXJtb191c28gPSBmYWxzZTsKCiAgICAgIGlmICghbG9jYWxTdG9yYWdlLmdldEl0ZW0oImFjZWl0ZV90ZXJtbyIpKSB7CiAgICAgICAgdGhpcy5hY2VpdGUgPSBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFjZWl0ZSA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgewogICAgaWYgKCFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYWNlaXRlX3Rlcm1vIikpIHsKICAgICAgdGhpcy5hY2VpdGUgPSBmYWxzZTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuYWNlaXRlID0gdHJ1ZTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGFjZWl0YXJUZXJtb1VzbygpIHsKICAgICAgbGV0IGRhZG9zID0geyBpZDogdGhpcy5pZF91c3VhcmlvLCBpZF91c3VhcmlvOiB0aGlzLmlkX3VzdWFyaW8gfTsKCiAgICAgIHRoaXMuJHJvb3QuJGFwaS5wb3N0KCIvdGVybW9fdXNvIiwgZGFkb3MpLnRoZW4oYXN5bmMgKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PSAiMjAwIikgewogICAgICAgICAgdGhpcy5hY2VpdGUgPSB0cnVlOwogICAgICAgICAgdGhpcy5tb2RhbFRlcm1vID0gZmFsc2U7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiYWNlaXRlX3Rlcm1vIiwgdHJ1ZSk7CgogICAgICAgICAgdGhpcy5oYW5kbGVOb3ZhU2ltdWxhY2FvID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5hY2VpdGUgPSBmYWxzZTsKICAgICAgICAgIHRoaXMubW9kYWxUZXJtbyA9IHRydWU7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgiYWNlaXRlX3Rlcm1vIik7CgogICAgICAgICAgdGhpcy5oYW5kbGVOb3ZhU2ltdWxhY2FvID0gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["ModalTermos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"ModalTermos.vue","sourceRoot":"src/components/ArquivosDiversos/Modal","sourcesContent":["<template>\n  <div>\n    <v-dialog v-model=\"modalTermo\" scrollable persistent max-width=\"80%\">\n      <v-card>\n        <v-card-title class=\"text-h5 lighten-2 divisor\">\n          <div class=\"d-flex justify-space-between\" style=\"min-width: 100%\">\n            <h3 class=\"standard-subtitle\">Termos e Condições de Uso</h3>\n            <v-btn @click=\"modalTermo = false\" icon color=\"red\" class=\"text-h6\">\n              <v-icon>mdi-close</v-icon>\n            </v-btn>\n          </div>\n        </v-card-title>\n        <v-card-text>\n          <v-container>\n            <div class=\"mx-2\" v-html=\"$TERMO_USO\"></div>\n          </v-container>\n        </v-card-text>\n        <v-card-actions\n          v-if=\"aceite == false\"\n          class=\"justify-space-between align-center\"\n        >\n          <v-checkbox\n            v-model=\"checked_termo_uso\"\n            label=\"Estou ciente dos termos de uso\"\n          ></v-checkbox>\n          <v-btn\n            :disabled=\"checked_termo_uso == false\"\n            small\n            v-if=\"aceite == false\"\n            color=\"#2d5071\"\n            class=\"elevation-0 button-check\"\n            @click=\"aceitarTermoUso\"\n          >\n            <span>Eu concordo</span>\n            <v-icon right small>mdi-check</v-icon>\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <!-- <v-snackbar\n      transition=\"dialog-bottom-transition\"\n      elevation=\"8\"\n      outlined\n      bottom\n      color=\"#FFFCF2\"\n      timeout=\"-1\"\n      v-model=\"snackbarTermo\"\n    >\n      <v-icon color=\"error\" left>mdi-alert-octagon-outline</v-icon>\n      <span style=\"color: black\">Aceite o termo de uso para proseguir.</span>\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn\n          small\n          @click=\"snackbarTermo = false\"\n          color=\"primary\"\n          style=\"text-transform: none\"\n          v-bind=\"attrs\"\n          text\n          class=\"elevation-0 ml-6\"\n          >X</v-btn\n        >\n      </template>\n    </v-snackbar> -->\n  </div>\n</template>\n<script>\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  name: \"ModalTermos\",\n  data() {\n    return {\n      aceite: false,\n      checked_termo_uso: false,\n    };\n  },\n  computed: {\n    modalTermo: {\n      get() {\n        return this.$store.state.termo.modalTermo;\n      },\n      set(newValue) {\n        if (newValue != this.modalTermo) {\n          this.$store.commit(\"termo/setModalTermo\", newValue);\n        }\n      },\n    },\n    snackbarTermo: {\n      get() {\n        return this.$store.state.termo.snackbarTermo;\n      },\n      set(newValue) {\n        if (newValue != this.snackbarTermo) {\n          this.$store.commit(\"termo/setsnackbarTermo\", newValue);\n        }\n      },\n    },\n    handleNovaSimulacao: {\n      get() {\n        return this.$store.state.modalNovaSimulacao.modalNovaSimulacao;\n      },\n      set(newValue) {\n        if (newValue != this.modalSimulacao) {\n          this.$store.commit(\n            \"modalNovaSimulacao/setModalNovaSimulacao\",\n            newValue\n          );\n        }\n      },\n    },\n    ...mapGetters(\"auth\", {\n      id_usuario: \"getIdUsuario\",\n    }),\n  },\n  watch: {\n    modalTermo() {\n      this.checked_termo_uso = false;\n\n      if (!localStorage.getItem(\"aceite_termo\")) {\n        this.aceite = false;\n      } else {\n        this.aceite = true;\n      }\n    },\n  },\n  created() {\n    if (!localStorage.getItem(\"aceite_termo\")) {\n      this.aceite = false;\n    } else {\n      this.aceite = true;\n    }\n  },\n  methods: {\n    aceitarTermoUso() {\n      let dados = { id: this.id_usuario, id_usuario: this.id_usuario };\n\n      this.$root.$api.post(\"/termo_uso\", dados).then(async (response) => {\n        if (response.status == \"200\") {\n          this.aceite = true;\n          this.modalTermo = false;\n          localStorage.setItem(\"aceite_termo\", true);\n\n          this.handleNovaSimulacao = true;\n        } else {\n          this.aceite = false;\n          this.modalTermo = true;\n          localStorage.removeItem(\"aceite_termo\");\n\n          this.handleNovaSimulacao = false;\n        }\n      });\n    },\n  },\n};\n</script>\n<style>\n.button-check {\n  text-transform: none !important;\n  color: #ffffff !important;\n}\n</style>\n<style lang=\"scss\">\n.divisor {\n  border-bottom: 1px solid #b7c2cc;\n}\nul.b {\n  list-style-type: square;\n}\n</style>"]}]}