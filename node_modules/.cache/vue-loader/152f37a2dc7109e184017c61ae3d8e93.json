{"remainingRequest":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/src/components/ArquivosDiversos/Modal/ModalAdicoes.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/src/components/ArquivosDiversos/Modal/ModalAdicoes.vue","mtime":1678361197239},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IEFiYUFkaWNvZXMgZnJvbSAiLi4vLi4vQWJhcy9BYmFBZGljb2VzL0FiYUFkaWNvZXMudnVlIjsKaW1wb3J0IEZvcm0gZnJvbSAiQC9zZXJ2aWNlcy9tb2R1bGVzL2Zvcm0iOwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEFiYUFkaWNvZXMsCiAgfSwKICBwcm9wczogWyJhZGljYW9Fc2NvbGhpZGEiXSwKICBuYW1lOiAiTW9kYWxBZGljb2VzIiwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc25hY2tBZGljb2VzRmVjaGFyOiBmYWxzZSwKICAgICAgbG9hZGluZ0luY2x1aXI6IGZhbHNlLAogICAgICBsb2FkaW5nRWRpdGFyOiBmYWxzZSwKICAgICAgbG9hZGVyOiBudWxsLAogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnZlcmlmaWNhUGVzb0FkacOnw6NvKCk7CiAgfSwKCiAgd2F0Y2g6IHsKICAgIGxvYWRlcigpIHsKICAgICAgY29uc3QgbCA9IHRoaXMubG9hZGVyOwogICAgICB0aGlzW2xdID0gIXRoaXNbbF07CgogICAgICBzZXRUaW1lb3V0KCgpID0+ICh0aGlzW2xdID0gZmFsc2UpLCA2MDAwKTsKCiAgICAgIHRoaXMubG9hZGVyID0gbnVsbDsKICAgIH0sCiAgICBoYW5kbGVNb2RhbEFkaWNhbyh2YWwpIHsKICAgICAgaWYgKHZhbCA9PSB0cnVlKSB7CiAgICAgICAgLy9lc3RhIGFicmluZG8gYWJhIEluY2x1aXIgYWRpY29lcwogICAgICAgIC8vc2VtcHJlIHF1ZSBhYnJpciBhbHRlcmFyIG1vZGFsIHBhcmEgYWJhLU9yaWdlbQogICAgICAgIHRoaXMuYWx0ZXJhckFiYSgiYWJhLU9yaWdlbSIpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdhbGlxdW90YXMvbGltcGFyQWxpcXVvdGFzRUFsZXJ0YXMnKTsKICAgICAgICBsZXQgZm9ybSA9IG5ldyBGb3JtKCk7CiAgICAgICAgZm9ybS5jYXJyZWdhck5vdmFBZGljYW8oKTsKICAgICAgfQogICAgfSwKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKCJhZGljYW8iLCB7CiAgICAgIGFkaWNhbzogImdldFN0YXRlIiwKICAgIH0pLAoKICAgIC4uLm1hcEdldHRlcnMoImNvbnN1bHRhIiwgewogICAgICBjb25zdWx0YTogImdldFN0YXRlIiwKICAgIH0pLAogICAgYWRpY29lczogewogICAgICBnZXQoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmFkaWNvZXMuZGFkb3M7CiAgICAgIH0sCiAgICAgIHNldChuZXdWYWx1ZSkgewogICAgICAgIGlmIChuZXdWYWx1ZSAhPSB0aGlzLmFkaWNvZXMpIHsKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiYWRpY29lcy9zZXREYWRvcyIsIG5ld1ZhbHVlKTsKICAgICAgICB9CiAgICAgIH0sCiAgICB9LAogICAgaGFuZGxlTW9kYWxBZGljYW86IHsKICAgICAgZ2V0KCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5tb2RhbEFkaWNvZXMubW9kYWxBZGljb2VzOwogICAgICB9LAogICAgICBzZXQobmV3VmFsdWUpIHsKICAgICAgICBpZiAobmV3VmFsdWUgIT0gdGhpcy5oYW5kbGVNb2RhbEFkaWNhbykgewogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJtb2RhbEFkaWNvZXMvc2V0TW9kYWxBZGljb2VzIiwgbmV3VmFsdWUpOwogICAgICAgIH0KICAgICAgfSwKICAgIH0sCiAgICBhYmFBZGljb2VzOiB7CiAgICAgIGdldCgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYWJhQWRpY29lcy5hYmFBZGljb2VzOwogICAgICB9LAogICAgICBzZXQobmV3VmFsdWUpIHsKICAgICAgICBpZiAobmV3VmFsdWUgIT0gdGhpcy5hYmFBZGljb2VzKSB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoImFiYUFkaWNvZXMvc2V0QWJhQWRpY29lcyIsIG5ld1ZhbHVlKTsKICAgICAgICB9CiAgICAgIH0sCiAgICB9LAogICAgY2hlY2tNYW50ZXJFeHBvRmFiOiB7CiAgICAgIGdldCAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmFiYUFkaWNvZXMuY2hlY2tNYW50ZXJFeHBvRmFiOwogICAgICB9LAogICAgICBzZXQodmFsKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJhYmFBZGljb2VzL3NldENoZWNrTWFudGVyRXhwb0ZhYiIsIHZhbCk7CiAgICAgICAgaWYgKCF2YWwpIHsKICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdhYmFBZGljb2VzL3JlbW92ZXJFeHBvRmFiU2VsZWNpb25hZG8nKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICBkb3duU2Nyb2xsKCkgewogICAgICBsZXQgbXlEaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibW9kYWxfYWRpY29lcyIpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyBteURpdi5zY3JvbGxUb3AgPSBteURpdi5vZmZzZXRXaWR0aDsKICAgICAgICBteURpdi5zY3JvbGxUb3AgPSAxMDAwOwogICAgICB9LCA1MDApOwogICAgfSwKICAgIGZlY2hhTW9kYWxBZGljYW8oKSB7CiAgICAgIHRoaXMuJHJlZnMuYWJhQWRpY29lcy5saW1wYXJGb3JtdWxhcmlvcygpOwogICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLmhhbmRsZU1vZGFsQWRpY2FvID0gZmFsc2U7CiAgICAgICAgdGhpcy5zbmFja0FkaWNvZXNGZWNoYXIgPSBmYWxzZTsKICAgICAgfSwgMjAwKTsKICAgIH0sCgogICAgY29uZmlybWFGZWNoYW1lbnRvTW9kYWxBZGljYW8oKSB7CiAgICAgIHRoaXMuc25hY2tBZGljb2VzRmVjaGFyID0gdHJ1ZTsKICAgIH0sCiAgICBzYWx2YXJBZGljYW9PckVkaXRhcigpIHsKICAgICAgLy9UT0RPOjogdmFsaWRhY29lcyBwYXJhIHZlcmlmaWNhciBkYWRvcyBvYnJpZ8OhdG9yaW9zCgogICAgICBsZXQgdmVyaWZpY2FjYW8gPSB0aGlzLiRyZWZzLmFiYUFkaWNvZXMudmVyaWZpY2FGb3JtdWxhcmlvVHJpYnV0b3MoKTsKCiAgICAgIGlmICghdmVyaWZpY2FjYW8pIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIC8vIGNhbGN1bGEgYSBzb21hIGRvcyBwZXNvcyBkYXMgYWRpw6fDtWVzIHZzIHJlc3VsdGFkbwogICAgICBsZXQgcGVzb091dHJhcyA9IDA7CiAgICAgIHRoaXMuYWRpY29lcy5mb3JFYWNoKChhZCkgPT4gewogICAgICAgIGlmIChhZC5pZCAhPSB0aGlzLmFkaWNhby5pZCkgewogICAgICAgICAgcGVzb091dHJhcyArPSBwYXJzZUZsb2F0KGFkLnBlc29fbGlxdWlkb190b3RhbCk7CiAgICAgICAgfQogICAgICB9KTsKCiAgICAgIGlmICgKICAgICAgICBwZXNvT3V0cmFzICsgcGFyc2VGbG9hdCh0aGlzLmFkaWNhby5wZXNvX2xpcXVpZG9fdG90YWwpID4KICAgICAgICB0aGlzLmNvbnN1bHRhLm1lcmNhZG9yaWEucGVzb19saXF1aWRvX3RvdGFsCiAgICAgICkgewogICAgICAgIE9iamVjdC5idXMuJGVtaXQoInN0cnVjdHVyZSIsIHsKICAgICAgICAgIHR5cGU6ICJlcnJvciIsCiAgICAgICAgICBtZXNzYWdlOgogICAgICAgICAgICAiTyBwZXNvIGRhcyBhZGnDp8O1ZXMgZXN0w6EgYWNpbWEgZG8gcGVzbyBkZWNsYXJhZG8gbmEgY29uc3VsdGEiLAogICAgICAgICAgdGltZW91dDogMTAwMCwKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KCiAgICAgIGxldCBwZXNvc0l0ZW5zID0gMDsKICAgICAgLy92YWxpZGEgbyBwZXNvIGRvcyBpdGVucyBkYXMgYWRpw6fDtWVzCiAgICAgIHRoaXMuYWRpY29lcy5mb3JFYWNoKChpKSA9PiB7CiAgICAgICAgbGV0IG1vc3RyYUl0ZW0gPSBpLml0ZW07CiAgICAgICAgbW9zdHJhSXRlbS5mb3JFYWNoKChpdG0pID0+IHsKICAgICAgICAgIHBlc29zSXRlbnMgPSBwZXNvc0l0ZW5zICsgcGFyc2VGbG9hdChpdG0ucGVzb191bml0YXJpbyk7CiAgICAgICAgfSk7CiAgICAgIH0pOwoKICAgICAgbGV0IGRhZG9zID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmFkaWNhbykpOwogICAgICBkYWRvc1siaWRfZGVjbGFyYWNhbyJdID0gdGhpcy5jb25zdWx0YS5pZDsKCiAgICAgIC8vbmEgaG9yYSBkZSBlZGl0YXIgdXN1YXJpbyBuw6NvIGFsdGVyb3UgbW9lZGEsIGNvbSBpc3NvIGZpY291IGlndWFsIG8gYmFuY28gbWFzIHRlbSBxdWUgYWx0ZXJhciBmb3JtYXRvIGRlIGVudmlvCiAgICAgIGlmICh0eXBlb2YgZGFkb3MubW9lZGEgPT0gIm9iamVjdCIpIHsKICAgICAgICAvL2FsdGVyYW5kbyAob2JqZXRvIG1vZWRhKSBwYXJhIGFwZW5hcyAoc3RyaW5nIHNpbWJvbG8pCiAgICAgICAgZGFkb3MubW9lZGEgPSBkYWRvcy5tb2VkYS5zaWdsYV9tb2VkYTsKICAgICAgfQoKICAgICAgLy8gYWRpY2FvLmV4cG9ydGFkb3JfZmFicmljYW50ZQogICAgICBpZiAoZGFkb3MuZXhwb3J0YWRvcl9mYWJyaWNhbnRlKSB7CiAgICAgICAgZGFkb3MuZmFicmljYW50ZSA9IGRhZG9zLmV4cG9ydGFkb3I7CiAgICAgIH0KICAgICAgbGV0IHRpcG9SZXF1ZXN0ID0gZGFkb3MuaWQgPT0gbnVsbCB8fCBkYWRvcy5pZCA9PSAiIiA/ICJwb3N0IiA6ICJwdXQiOwoKICAgICAgdGhpcy4kcm9vdC4kYXBpW3RpcG9SZXF1ZXN0XSgiL2FkaWNhbyIsIGRhZG9zKS50aGVuKGFzeW5jIChyZXNwb25zZSkgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gIjIwMCIpIHsKICAgICAgICAgIGxldCBtZXNzYWdlID0KICAgICAgICAgICAgZGFkb3MuaWQgPT0gbnVsbCB8fCBkYWRvcy5pZCA9PSAiIgogICAgICAgICAgICAgID8gIkFkacOnw6NvIGNyaWFkYSBjb20gc3VjZXNzby4iCiAgICAgICAgICAgICAgOiAiQWRpw6fDo28gZWRpdGFkYSBjb20gc3VjZXNzby4iOwogICAgICAgICAgT2JqZWN0LmJ1cy4kZW1pdCgic3RydWN0dXJlIiwgewogICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLAogICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgIHRpbWVvdXQ6IDIwMDAsCiAgICAgICAgICB9KTsKCiAgICAgICAgICBpZiAodGhpcy5jaGVja01hbnRlckV4cG9GYWIgJiYgdGlwb1JlcXVlc3QgPT0gJ3Bvc3QnKSB7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdhYmFBZGljb2VzL3NldGFyRXhwb0ZhYlNlbGVjaW9uYWRvJywgewogICAgICAgICAgICAgIGV4cG9ydGFkb3I6IHRoaXMuYWRpY2FvLmV4cG9ydGFkb3Iubm9tZSwKICAgICAgICAgICAgICBmYWJyaWNhbnRlOiB0aGlzLmFkaWNhby5mYWJyaWNhbnRlLm5vbWUsCiAgICAgICAgICAgICAgcGFpc0ZhYnJpY2FudGU6IHRoaXMuYWRpY2FvLmlkX3BhaXNfZmFicmljYW50ZSwKICAgICAgICAgICAgICBwYWlzRXhwb3J0YWRvcjogdGhpcy5hZGljYW8uaWRfcGFpc19leHBvcnRhZG9yCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQoKICAgICAgICAgIC8vVE9ETzo6IGF0dWFsaXphciBsaXN0YSBkZSBhZGljb2VzIHF1ZSBkZW1vbnN0cmFkYSBlbSBiYWl4bwogICAgICAgICAgbGV0IGlkX2RlY2xhcmFjYW8gPSB0aGlzLmNvbnN1bHRhLmlkOwogICAgICAgICAgdGhpcy4kc3RvcmUKICAgICAgICAgICAgLmRpc3BhdGNoKCJhZGljb2VzL2NhcnJlZ2FyQWRpY29lcyIsIGlkX2RlY2xhcmFjYW8pCiAgICAgICAgICAgIC50aGVuKCgpID0+IHsKICAgICAgICAgICAgICB0aGlzLmZlY2hhTW9kYWxBZGljYW8oKTsKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmNhdGNoKCgpID0+IHsKICAgICAgICAgICAgICBPYmplY3QuYnVzLiRlbWl0KCJzdHJ1Y3R1cmUiLCB7CiAgICAgICAgICAgICAgICB0eXBlOiAiZXJyb3IiLAogICAgICAgICAgICAgICAgbWVzc2FnZTogIk7Do28gZm9pIHBvc3PDrXZlbCBjYXJyZWdhciBhcyBpbmZvcm1hw6fDtWVzIGRhcyBhZGljb2VzIiwKICAgICAgICAgICAgICAgIHRpbWVvdXQ6IDEwMDAsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdGhpcy5mZWNoYU1vZGFsQWRpY2FvKCk7CiAgICAgICAgICAgIH0pOwoKICAgICAgICAgIGlmIChkYWRvcy5pZCAhPT0gbnVsbCAmJiBkYWRvcy5pZCAhPT0gIiIpIHsKICAgICAgICAgICAgdGhpcy4kZW1pdCgiYXR1YWxpemFyQ2FiZWNhbGhvQWRpY2FvIiwgdGhpcy5hZGljYW8pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvL3ZlciBzZSDDqSBlcnJvcyBkZSBjYW1wb3MgcXVlIGxhcmF2ZWwgcmV0b3Jub3UKCiAgICAgICAgICAvLyBjcmlhciBsaXN0YSBkZSBlcnJvIG91IHBlZ2EgcHJpbWVpcm8gZXJybwogICAgICAgICAgaWYgKAogICAgICAgICAgICB0eXBlb2YgcmVzcG9uc2UgIT09ICJ1bmRlZmluZWQiICYmCiAgICAgICAgICAgIHR5cGVvZiByZXNwb25zZS5kYXRhICE9PSAidW5kZWZpbmVkIiAmJgogICAgICAgICAgICB0eXBlb2YgcmVzcG9uc2UuZGF0YS5lcnJvcnMgIT09ICJ1bmRlZmluZWQiCiAgICAgICAgICApIHsKICAgICAgICAgICAgLy9pcmVpIHBlZ2FyIG8gcHJpbWVpcm8gZXJybwoKICAgICAgICAgICAgbGV0IGxpc3RFcnJvcnMgPSBbXTsKICAgICAgICAgICAgbGV0IGVycm9ycyA9IHJlc3BvbnNlLmRhdGEuZXJyb3JzOwogICAgICAgICAgICBPYmplY3Qua2V5cyhlcnJvcnMpLmZvckVhY2goZnVuY3Rpb24gKGVsZW1lbnQpIHsKICAgICAgICAgICAgICBsaXN0RXJyb3JzLnB1c2goZXJyb3JzW2VsZW1lbnRdWzBdKTsKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBPYmplY3QuYnVzLiRlbWl0KCJzdHJ1Y3R1cmUiLCB7CiAgICAgICAgICAgICAgbWVzc2FnZTogbGlzdEVycm9yc1swXSwKICAgICAgICAgICAgICB0aW1lb3V0OiAwLAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIHR5cGVvZiByZXNwb25zZSAhPT0gInVuZGVmaW5lZCIgJiYKICAgICAgICAgICAgdHlwZW9mIHJlc3BvbnNlLmRhdGEgIT09ICJ1bmRlZmluZWQiICYmCiAgICAgICAgICAgIHR5cGVvZiByZXNwb25zZS5kYXRhLm1lc3NhZ2UgIT09ICJ1bmRlZmluZWQiCiAgICAgICAgICApIHsKICAgICAgICAgICAgT2JqZWN0LmJ1cy4kZW1pdCgic3RydWN0dXJlIiwgewogICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLmRhdGEubWVzc2FnZSwKICAgICAgICAgICAgICB0aW1lb3V0OiAwLAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdmVyaWZpY2FQZXNvQWRpw6fDo28oKSB7CiAgICAgIGxldCBwZXNvc0l0ZW5zID0gMDsKICAgICAgLy92YWxpZGEgbyBwZXNvIGRvcyBpdGVucyBkYXMgYWRpw6fDtWVzCiAgICAgIHRoaXMuYWRpY29lcy5mb3JFYWNoKChpKSA9PiB7CiAgICAgICAgbGV0IG1vc3RyYUl0ZW0gPSBpLml0ZW07CiAgICAgICAgbW9zdHJhSXRlbS5mb3JFYWNoKChpdG0pID0+IHsKICAgICAgICAgIHBlc29zSXRlbnMgPSBwZXNvc0l0ZW5zICsgcGFyc2VGbG9hdChpdG0ucGVzb191bml0YXJpbyk7CiAgICAgICAgfSk7CiAgICAgIH0pOwoKICAgICAgaWYgKAogICAgICAgIHBlc29zSXRlbnMgPiBwYXJzZUZsb2F0KHRoaXMuY29uc3VsdGEubWVyY2Fkb3JpYS5wZXNvX2xpcXVpZG9fdG90YWwpCiAgICAgICkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKCiAgICBwcm94aW1hRXRhcGEoKSB7CiAgICAgIGlmICh0aGlzLmFiYUFkaWNvZXMgPT0gImFiYS1PcmlnZW0iKSB7CiAgICAgICAgbGV0IHZlcmlmaWNhY2FvID0gdGhpcy4kcmVmcy5hYmFBZGljb2VzLnZlcmlmaWNhRm9ybXVsYXJpb09yaWdlbSgpOwogICAgICAgIGlmICh2ZXJpZmljYWNhbykgewogICAgICAgICAgdGhpcy5hbHRlcmFyQWJhKCJhYmEtRGFkb3NCYXNpY29zIik7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHRoaXMuYWJhQWRpY29lcyA9PSAiYWJhLURhZG9zQmFzaWNvcyIpIHsKICAgICAgICBsZXQgdmVyaWZpY2FjYW8gPQogICAgICAgICAgdGhpcy4kcmVmcy5hYmFBZGljb2VzLnZlcmlmaWNhRm9ybXVsYXJpb0RhZG9zQmFzaWNvcygpOwogICAgICAgIGlmICh2ZXJpZmljYWNhbykgewogICAgICAgICAgdGhpcy5hbHRlcmFyQWJhKCJhYmEtVHJpYnV0b3MiKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCgogICAgZXRhcGFBbnRlcmlvcigpIHsKICAgICAgaWYgKHRoaXMuYWJhQWRpY29lcyA9PSAiYWJhLVRyaWJ1dG9zIikgewogICAgICAgIHRoaXMuYWx0ZXJhckFiYSgiYWJhLURhZG9zQmFzaWNvcyIpOwogICAgICB9IGVsc2UgaWYgKHRoaXMuYWJhQWRpY29lcyA9PSAiYWJhLURhZG9zQmFzaWNvcyIpIHsKICAgICAgICB0aGlzLmFsdGVyYXJBYmEoImFiYS1PcmlnZW0iKTsKICAgICAgfQogICAgfSwKCiAgICBhbHRlcmFyQWJhKGFiYSkgewogICAgICB0aGlzLmFiYUFkaWNvZXMgPSBhYmE7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["ModalAdicoes.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwHA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"ModalAdicoes.vue","sourceRoot":"src/components/ArquivosDiversos/Modal","sourcesContent":["<template>\n  <div>\n    <v-dialog v-model=\"handleModalAdicao\" scrollable persistent max-width=\"60%\">\n      <v-card max-height=\"650px\" min-height=\"90vh\">\n        <v-card-title class=\"text-h5 tab\">\n          <div class=\"d-flex justify-space-between\" style=\"min-width: 100%\">\n            <template v-if=\"adicao.id == null || adicao.id == ''\">\n              <h3 class=\"standard-subtitle\">Incluir Adição</h3>\n            </template>\n            <template v-else>\n              <h3 class=\"standard-subtitle\">Editar Adição</h3>\n            </template>\n            <v-btn\n              @click.stop=\"confirmaFechamentoModalAdicao()\"\n              icon\n              color=\"red\"\n              class=\"text-h6\"\n            >\n              <v-icon>mdi-close</v-icon>\n            </v-btn>\n          </div>\n        </v-card-title>\n        <v-card-text id=\"modal_adicoes\">\n          <AbaAdicoes\n            v-if=\"handleModalAdicao\"\n            ref=\"abaAdicoes\"\n            @downScroll=\"downScroll\"\n            :adicaoEscolhida=\"adicaoEscolhida\"\n          />\n        </v-card-text>\n        <v-card-actions class=\"justify-space-between\">\n          <div>\n            <v-btn\n              @click=\"etapaAnterior()\"\n              class=\"elevation-0\"\n              text\n              color=\"primary\"\n            >\n              <v-icon small left>mdi-arrow-left</v-icon>\n              Voltar\n            </v-btn>\n          </div>\n          <div v-if=\"abaAdicoes !== 'aba-Tributos'\">\n            <v-btn class=\"elevation-0\" color=\"primary\" @click=\"proximaEtapa\">\n              Avançar\n              <v-icon small right>mdi-arrow-right</v-icon>\n            </v-btn>\n          </div>\n          <div v-if=\"abaAdicoes == 'aba-Tributos'\">\n            <template v-if=\"adicao.id == null || adicao.id == ''\">\n              <div class=\"d-flex\">\n                <v-checkbox dense v-model=\"checkManterExpoFab\" label=\"Manter Exportador/Fabricante/Produtor\" class=\"pr-4 pt-1\" />\n                <v-btn\n                  :loading=\"loadingIncluir\"\n                  @click=\"salvarAdicaoOrEditar(); loader = 'loadingIncluir';\"\n                  class=\"elevation-0\"\n                  color=\"primary\"\n                >\n                  Incluir\n                  <v-icon small right>mdi-plus-circle-outline</v-icon>\n                </v-btn>\n              </div>\n            </template>\n            <template v-else>\n              <v-btn\n                id=\"botao_editar\"\n                :loading=\"loadingEditar\"\n                @click=\"\n                  salvarAdicaoOrEditar();\n                  loader = 'loadingEditar';\n                \"\n                class=\"elevation-0\"\n                color=\"primary\"\n              >\n                Editar\n                <v-icon small right>mdi-pencil-outline</v-icon>\n              </v-btn>\n            </template>\n          </div>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <div class=\"bloqueia-tela\" v-if=\"snackAdicoesFechar\"></div>\n    <v-snackbar\n      transition=\"dialog-bottom-transition\"\n      outlined\n      bottom\n      timeout=\"-1\"\n      v-model=\"snackAdicoesFechar\"\n      :elevation=\"8\"\n    >\n      <v-icon color=\"error\" left>mdi-alert-outline</v-icon>\n      <span style=\"color: black; font-weight: 800; font-size: 12px\">Você tem certeza que deseja sair? O preenchimento atual será perdido.</span>\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn\n          small\n          color=\"primary\"\n          style=\"text-transform: none\"\n          v-bind=\"attrs\"\n          text\n          class=\"elevation-0 ml-6\"\n          @click=\"snackAdicoesFechar = false\"\n        >\n          Cancelar\n        </v-btn>\n        <v-btn\n          color=\"primary\"\n          small\n          class=\"ml-2 elevation-0\"\n          v-bind=\"attrs\"\n          @click=\"fechaModalAdicao\"\n          style=\"text-transform: none; color: white\"\n        >\n          Sair\n        </v-btn>\n      </template>\n    </v-snackbar>\n  </div>\n</template>\n<script>\nimport { mapGetters } from \"vuex\";\nimport AbaAdicoes from \"../../Abas/AbaAdicoes/AbaAdicoes.vue\";\nimport Form from \"@/services/modules/form\";\n\nexport default {\n  components: {\n    AbaAdicoes,\n  },\n  props: [\"adicaoEscolhida\"],\n  name: \"ModalAdicoes\",\n  data() {\n    return {\n      snackAdicoesFechar: false,\n      loadingIncluir: false,\n      loadingEditar: false,\n      loader: null,\n    };\n  },\n  created() {\n    this.verificaPesoAdição();\n  },\n\n  watch: {\n    loader() {\n      const l = this.loader;\n      this[l] = !this[l];\n\n      setTimeout(() => (this[l] = false), 6000);\n\n      this.loader = null;\n    },\n    handleModalAdicao(val) {\n      if (val == true) {\n        //esta abrindo aba Incluir adicoes\n        //sempre que abrir alterar modal para aba-Origem\n        this.alterarAba(\"aba-Origem\");\n      } else {\n        this.$store.dispatch('aliquotas/limparAliquotasEAlertas');\n        let form = new Form();\n        form.carregarNovaAdicao();\n      }\n    },\n  },\n  computed: {\n    ...mapGetters(\"adicao\", {\n      adicao: \"getState\",\n    }),\n\n    ...mapGetters(\"consulta\", {\n      consulta: \"getState\",\n    }),\n    adicoes: {\n      get() {\n        return this.$store.state.adicoes.dados;\n      },\n      set(newValue) {\n        if (newValue != this.adicoes) {\n          this.$store.commit(\"adicoes/setDados\", newValue);\n        }\n      },\n    },\n    handleModalAdicao: {\n      get() {\n        return this.$store.state.modalAdicoes.modalAdicoes;\n      },\n      set(newValue) {\n        if (newValue != this.handleModalAdicao) {\n          this.$store.commit(\"modalAdicoes/setModalAdicoes\", newValue);\n        }\n      },\n    },\n    abaAdicoes: {\n      get() {\n        return this.$store.state.abaAdicoes.abaAdicoes;\n      },\n      set(newValue) {\n        if (newValue != this.abaAdicoes) {\n          this.$store.commit(\"abaAdicoes/setAbaAdicoes\", newValue);\n        }\n      },\n    },\n    checkManterExpoFab: {\n      get () {\n        return this.$store.state.abaAdicoes.checkManterExpoFab;\n      },\n      set(val) {\n        this.$store.commit(\"abaAdicoes/setCheckManterExpoFab\", val);\n        if (!val) {\n          this.$store.dispatch('abaAdicoes/removerExpoFabSelecionado');\n        }\n      }\n    },\n  },\n  methods: {\n    downScroll() {\n      let myDiv = document.getElementById(\"modal_adicoes\");\n      setTimeout(function () {\n        // myDiv.scrollTop = myDiv.offsetWidth;\n        myDiv.scrollTop = 1000;\n      }, 500);\n    },\n    fechaModalAdicao() {\n      this.$refs.abaAdicoes.limparFormularios();\n      setTimeout(() => {\n        this.handleModalAdicao = false;\n        this.snackAdicoesFechar = false;\n      }, 200);\n    },\n\n    confirmaFechamentoModalAdicao() {\n      this.snackAdicoesFechar = true;\n    },\n    salvarAdicaoOrEditar() {\n      //TODO:: validacoes para verificar dados obrigátorios\n\n      let verificacao = this.$refs.abaAdicoes.verificaFormularioTributos();\n\n      if (!verificacao) {\n        return false;\n      }\n\n      // calcula a soma dos pesos das adições vs resultado\n      let pesoOutras = 0;\n      this.adicoes.forEach((ad) => {\n        if (ad.id != this.adicao.id) {\n          pesoOutras += parseFloat(ad.peso_liquido_total);\n        }\n      });\n\n      if (\n        pesoOutras + parseFloat(this.adicao.peso_liquido_total) >\n        this.consulta.mercadoria.peso_liquido_total\n      ) {\n        Object.bus.$emit(\"structure\", {\n          type: \"error\",\n          message:\n            \"O peso das adições está acima do peso declarado na consulta\",\n          timeout: 1000,\n        });\n        return false;\n      }\n\n      let pesosItens = 0;\n      //valida o peso dos itens das adições\n      this.adicoes.forEach((i) => {\n        let mostraItem = i.item;\n        mostraItem.forEach((itm) => {\n          pesosItens = pesosItens + parseFloat(itm.peso_unitario);\n        });\n      });\n\n      let dados = JSON.parse(JSON.stringify(this.adicao));\n      dados[\"id_declaracao\"] = this.consulta.id;\n\n      //na hora de editar usuario não alterou moeda, com isso ficou igual o banco mas tem que alterar formato de envio\n      if (typeof dados.moeda == \"object\") {\n        //alterando (objeto moeda) para apenas (string simbolo)\n        dados.moeda = dados.moeda.sigla_moeda;\n      }\n\n      // adicao.exportador_fabricante\n      if (dados.exportador_fabricante) {\n        dados.fabricante = dados.exportador;\n      }\n      let tipoRequest = dados.id == null || dados.id == \"\" ? \"post\" : \"put\";\n\n      this.$root.$api[tipoRequest](\"/adicao\", dados).then(async (response) => {\n        if (response.status == \"200\") {\n          let message =\n            dados.id == null || dados.id == \"\"\n              ? \"Adição criada com sucesso.\"\n              : \"Adição editada com sucesso.\";\n          Object.bus.$emit(\"structure\", {\n            message: message,\n            type: \"success\",\n            timeout: 2000,\n          });\n\n          if (this.checkManterExpoFab && tipoRequest == 'post') {\n            this.$store.dispatch('abaAdicoes/setarExpoFabSelecionado', {\n              exportador: this.adicao.exportador.nome,\n              fabricante: this.adicao.fabricante.nome,\n              paisFabricante: this.adicao.id_pais_fabricante,\n              paisExportador: this.adicao.id_pais_exportador\n            });\n          }\n\n          //TODO:: atualizar lista de adicoes que demonstrada em baixo\n          let id_declaracao = this.consulta.id;\n          this.$store\n            .dispatch(\"adicoes/carregarAdicoes\", id_declaracao)\n            .then(() => {\n              this.fechaModalAdicao();\n            })\n            .catch(() => {\n              Object.bus.$emit(\"structure\", {\n                type: \"error\",\n                message: \"Não foi possível carregar as informações das adicoes\",\n                timeout: 1000,\n              });\n              this.fechaModalAdicao();\n            });\n\n          if (dados.id !== null && dados.id !== \"\") {\n            this.$emit(\"atualizarCabecalhoAdicao\", this.adicao);\n          }\n        } else {\n          //ver se é erros de campos que laravel retornou\n\n          // criar lista de erro ou pega primeiro erro\n          if (\n            typeof response !== \"undefined\" &&\n            typeof response.data !== \"undefined\" &&\n            typeof response.data.errors !== \"undefined\"\n          ) {\n            //irei pegar o primeiro erro\n\n            let listErrors = [];\n            let errors = response.data.errors;\n            Object.keys(errors).forEach(function (element) {\n              listErrors.push(errors[element][0]);\n            });\n\n            Object.bus.$emit(\"structure\", {\n              message: listErrors[0],\n              timeout: 0,\n            });\n\n            return false;\n          }\n\n          if (\n            typeof response !== \"undefined\" &&\n            typeof response.data !== \"undefined\" &&\n            typeof response.data.message !== \"undefined\"\n          ) {\n            Object.bus.$emit(\"structure\", {\n              message: response.data.message,\n              timeout: 0,\n            });\n            return false;\n          }\n        }\n      });\n    },\n    verificaPesoAdição() {\n      let pesosItens = 0;\n      //valida o peso dos itens das adições\n      this.adicoes.forEach((i) => {\n        let mostraItem = i.item;\n        mostraItem.forEach((itm) => {\n          pesosItens = pesosItens + parseFloat(itm.peso_unitario);\n        });\n      });\n\n      if (\n        pesosItens > parseFloat(this.consulta.mercadoria.peso_liquido_total)\n      ) {\n        return false;\n      }\n    },\n\n    proximaEtapa() {\n      if (this.abaAdicoes == \"aba-Origem\") {\n        let verificacao = this.$refs.abaAdicoes.verificaFormularioOrigem();\n        if (verificacao) {\n          this.alterarAba(\"aba-DadosBasicos\");\n        }\n      } else if (this.abaAdicoes == \"aba-DadosBasicos\") {\n        let verificacao =\n          this.$refs.abaAdicoes.verificaFormularioDadosBasicos();\n        if (verificacao) {\n          this.alterarAba(\"aba-Tributos\");\n        }\n      }\n    },\n\n    etapaAnterior() {\n      if (this.abaAdicoes == \"aba-Tributos\") {\n        this.alterarAba(\"aba-DadosBasicos\");\n      } else if (this.abaAdicoes == \"aba-DadosBasicos\") {\n        this.alterarAba(\"aba-Origem\");\n      }\n    },\n\n    alterarAba(aba) {\n      this.abaAdicoes = aba;\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n.position-button {\n  float: right;\n}\n.tab {\n  position: relative;\n\n  .barra-acoes {\n    opacity: 1;\n    background: rgba(255, 255, 255);\n    height: 40px;\n    border-bottom: 1px solid #b7c2cc;\n    z-index: 150;\n    position: sticky;\n    right: 0;\n    top: 0;\n    left: 0;\n  }\n\n  @supports ((-webkit-backdrop-filter: none) or (backdrop-filter: none)) {\n    .barra-acoes {\n      background-color: rgba(255, 255, 255, 0.6) !important;\n      backdrop-filter: blur(5px) !important;\n      -webkit-backdrop-filter: blur(5px) !important;\n    }\n  }\n}\n\n.v-dialog > .v-card > .v-card__text {\n  padding: 0 0px 8px !important;\n}\n\n.custom-loader {\n  animation: loader 1s infinite;\n  display: flex;\n}\n@-moz-keyframes loader {\n  from {\n    transform: rotate(0);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@-webkit-keyframes loader {\n  from {\n    transform: rotate(0);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@-o-keyframes loader {\n  from {\n    transform: rotate(0);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n@keyframes loader {\n  from {\n    transform: rotate(0);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n</style>"]}]}