{"remainingRequest":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/src/components/Abas/AbaResultados/AbaResultados.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/src/components/Abas/AbaResultados/AbaResultados.vue","mtime":1678361197239},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmNvbG9yLWRpdmlkZXIgewogIGJhY2tncm91bmQ6ICNjM2NmZDk7Cn0KLnRhYiB7CiAgcG9zaXRpb246IHJlbGF0aXZlICFpbXBvcnRhbnQ7CgogIC5iYXJyYS1hY29lcyB7CiAgICBvcGFjaXR5OiAxOwogICAgYmFja2dyb3VuZDogcmdiYSgyNTUsIDI1NSwgMjU1KTsKICAgIGhlaWdodDogNDBweDsKICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjYjdjMmNjOwogICAgei1pbmRleDogMTUwOwogICAgcG9zaXRpb246IHN0aWNreTsKICAgIHRvcDogNjRweDsKICAgIHJpZ2h0OiAwOwogIH0KCiAgQHN1cHBvcnRzICgoLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6IG5vbmUpIG9yIChiYWNrZHJvcC1maWx0ZXI6IG5vbmUpKSB7CiAgICAuYmFycmEtYWNvZXMgewogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuNikgIWltcG9ydGFudDsKICAgICAgYmFja2Ryb3AtZmlsdGVyOiBibHVyKDVweCkgIWltcG9ydGFudDsKICAgICAgLXdlYmtpdC1iYWNrZHJvcC1maWx0ZXI6IGJsdXIoNXB4KSAhaW1wb3J0YW50OwogICAgfQogIH0KICAuYmFycmEtYWNvZXMgLnYtYnRuID4gLnYtYnRuX19jb250ZW50IHsKICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICB9Cn0KLnRleHQtdGFiIHsKICB0ZXh0LXRyYW5zZm9ybTogaW5oZXJpdCAhaW1wb3J0YW50OwogIGxldHRlci1zcGFjaW5nOiAwICFpbXBvcnRhbnQ7CiAgZm9udC13ZWlnaHQ6IDkwMCAhaW1wb3J0YW50Owp9Cg=="},{"version":3,"sources":["AbaResultados.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuOA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AbaResultados.vue","sourceRoot":"src/components/Abas/AbaResultados","sourcesContent":["<template>\n  <v-layout wrap>\n    <v-flex xs12 sm12 md12>\n      <Cabecalho />\n      <QuadroResumo />\n      <v-divider class=\"color-divider mx-10\"></v-divider>\n      <!--\n      <QuadroCotacao />\n      -->\n      <v-container fluid class=\"px-10\">\n        <!-- Início sessão Abas -->\n        <div class=\"tab mt-4\">\n          <div class=\"barra-acoes d-flex justify-space-between justify-center align-center\">\n            <v-tabs\n              v-model=\"abaAtual\"\n              color=\"#007CB3\"\n              height=\"40px\"\n              background-color=\"transparent\"\n              centered\n            >\n              <v-tab\n                v-for=\"item in abas\"\n                :key=\"item.aba\"\n                :href=\"'#aba-' + item.aba\"\n                class=\"text-tab\"\n              >\n                {{ item.name }}\n                <v-chip\n                  v-if=\"item.component == 'AdicoesResultado' || item.component == 'NotasFiscaisResultado'\"\n                  class=\"ma-2 text-center\"\n                  x-small\n                  color=\"rgb(228, 237, 247)\"\n                  label\n                  text-color=\"gray\"\n                >\n                  <span v-if=\"item.component == 'AdicoesResultado'\">{{ resultado.qtd_adicoes }}</span>\n                  <span v-if=\"item.component == 'NotasFiscaisResultado'\">{{ resultado.qtd_notas_fiscais }}</span>\n                </v-chip>\n              </v-tab>\n            </v-tabs>\n          </div>\n\n          <v-tabs-items v-model=\"abaAtual\">\n            <v-tab-item\n              v-for=\"item in abas\"\n              :key=\"'aba-' + item.aba\"\n              :value=\"'aba-' + item.aba\"\n            >\n              <component\n                @alterarAba=\"alterarAba\"\n                @getDadosAdicao=\"getDadosAdicao\"\n                v-bind:is=\"item.component\"\n                :tipoOperacao=\"resultado.tipo_operacao.descricao\"\n              ></component>\n            </v-tab-item>\n          </v-tabs-items>\n        </div>\n      </v-container>\n      <v-divider class=\"mb-6 mt-2\"></v-divider>\n      <Rodape class=\"mb-4\" />\n    </v-flex>\n  </v-layout>\n</template>\n<script >\n  import formataDataMixin from \"@/mixins/formataDataMixin\";\n  import formataMoedaMixin from \"@/mixins/formataMoedaMixin\";\n  import formataUnidadeMedidaMixin from \"@/mixins/formataUnidadeMedidaMixin\";\n  import DadosGeraisResultado from \"../../../views/Resultado/ItensResultado/DadosGeraisResultado.vue\";\n  import AdicoesResultado from \"../../../views/Resultado/ItensResultado/AdicoesResultado.vue\";\n  import NotasFiscaisResultado from \"../../../views/Resultado/ItensResultado/NotasFiscaisResultado.vue\";\n  import Cabecalho from \"../../Cabecalho/Cabecalho.vue\";\n  import QuadroResumo from \"@/components/QuadrosResultado/QuadroResumo\";\n  import QuadroCotacao from \"@/components/QuadrosResultado/QuadroCotacao\";\n  import { mapGetters } from \"vuex\";\n  import Rodape from \"../../Rodape/Rodape.vue\";\n\n  export default {\n    name: \"AbaResultado\",\n\n    components: {\n      DadosGeraisResultado,\n      AdicoesResultado,\n      NotasFiscaisResultado,\n      Cabecalho,\n      Rodape,\n      QuadroResumo,\n      QuadroCotacao,\n    },\n\n    mixins: [\n      formataDataMixin, \n      formataMoedaMixin, \n      formataUnidadeMedidaMixin\n    ],\n\n    props: [\n      \"tipoOperacao\"\n    ],\n\n    data() {\n      return {\n        aba: null,\n        abas: [\n          { aba: \"DadosGeraisResultado\", component: \"DadosGeraisResultado\", name: \"Dados Gerais\" },\n          { aba: \"AdicoesResultado\", component: \"AdicoesResultado\", name: \"Adições\" },\n          { aba: \"NotasFiscais\", component: \"NotasFiscaisResultado\", name: \"Totais\" },\n        ],\n      };\n    },\n\n    watch: {\n      alterarAba(aba) {\n        this.alterarAba = aba;\n      },\n\n      abaAtual(val) {\n        if (val == \"aba-AdicoesResultado\" && this.resultado.carregamentoAdicoes == false) {\n          //tem que chamar funcao para carregar adicao e valores\n          let adicao = this.resultado.adicoes[0].id;\n          let page = 1;\n          this.getDadosAdicao(adicao, page);\n\n        } else if (val == \"aba-NotasFiscais\" && this.resultado.carregamentoNotasFiscais == false) {\n          //tem que chamar funcao para carregar adicao e valores\n          let page = 1;\n          this.getNotaFiscal(page);\n        }\n      },\n    },\n\n    computed: {\n      ...mapGetters(\"resultadosFinal\", { resultado: \"getState\" }),\n      ...mapGetters(\"consulta\", { consulta: \"getState\" }),\n\n      abaAtual: {\n        get() {\n          return this.$store.state.abaResultado.abaResultado;\n        },\n        set(newValue) {\n          if (newValue != this.abaAtual) {\n            this.$store.commit(\"abaResultado/setAbaResultado\", newValue);\n          }\n        },\n      },\n    \n      loading: {\n        get() {\n          return this.$store.state.loading.loading;\n        },\n        set(newValue) {\n          if (newValue != this.loading) {\n            this.$store.commit(\"loading/setLoading\", newValue);\n          }\n        },\n      },  \n    },\n\n    methods: {\n      getNotaFiscal(page) {\n        this.loading = true;\n        let id_declaracao = this.consulta.id;\n\n        this.$root.$api.get(\"/resultado/notas_fiscais/\" + id_declaracao + \"/?page=\" + page)\n        .then((response) => {\n          let notasFiscais = response;\n          this.resultado.notas_fiscais = notasFiscais.data.data;\n          this.resultado.paginationNotasFiscais = {\n            current: notasFiscais.data.current_page,\n            totalPage: notasFiscais.data.last_page,\n            totalRegister: notasFiscais.data.total,\n          };\n\n          this.loading = false;\n          //setando carregamento das notas fiscais\n          this.resultado.carregamentoNotasFiscais = true;\n        })\n        .catch(() => {\n          this.loading = false;\n          //setando carregamento das notas fiscais\n          this.resultado.carregamentoNotasFiscais = false;\n        });\n      },\n\n      async getDadosAdicao(adicao, page) {\n        this.loading = true;\n\n        let adicoesInformacoes = await this.$root.$api.get(\"/resultado/adicoes/informacoes/?id_adicao=\" + adicao);\n        let detalhesMercadoria = await this.$root.$api.get(\"/resultado/adicoes/mercadorias/?id_adicao=\" + adicao + \"&page=\" + page);\n        let custosOperacao     = await this.$root.$api.get(\"/resultado/adicoes/operacoes/?id_adicao=\" + adicao + \"&page=\" + page);\n        let tributacoesTaxas   = await this.$root.$api.get(\"/resultado/adicoes/tributacoes/?id_adicao=\" + adicao + \"&page=\" + page);\n\n        Promise.all([\n          adicoesInformacoes,\n          detalhesMercadoria,\n          custosOperacao,\n          tributacoesTaxas,\n        ]).then((response) => {\n          adicoesInformacoes = response[0];\n          detalhesMercadoria = response[1];\n          custosOperacao     = response[2];\n          tributacoesTaxas   = response[3];\n\n          this.resultado.adicoes_informacoes = adicoesInformacoes.data;\n\n          this.resultado.detalhe_mercadoria        = detalhesMercadoria.data.itens;\n          this.resultado.totais_detalhe_mercadoria = detalhesMercadoria.data.total;\n          \n          this.resultado.custos_operacao        = custosOperacao.data.itens;\n          this.resultado.totais_custos_operacao = custosOperacao.data.total;\n\n          this.resultado.tributacoes_taxas        = tributacoesTaxas.data.itens;\n          this.resultado.totais_tributacoes_taxas = tributacoesTaxas.data.total;\n\n          this.loading = false;\n\n          this.resultado.carregamentoAdicoes = true;\n        })\n        .catch(() => {\n          this.loading = false;\n\n          //setando carregamento das adicoes\n          this.resultado.carregamentoAdicoes = false;\n        });\n    },\n    alterarAba(aba) {\n      this.abaAtual = aba;\n    },\n  },\n};\n</script>\n<style lang=\"scss\">\n  .color-divider {\n    background: #c3cfd9;\n  }\n  .tab {\n    position: relative !important;\n\n    .barra-acoes {\n      opacity: 1;\n      background: rgba(255, 255, 255);\n      height: 40px;\n      border-bottom: 1px solid #b7c2cc;\n      z-index: 150;\n      position: sticky;\n      top: 64px;\n      right: 0;\n    }\n\n    @supports ((-webkit-backdrop-filter: none) or (backdrop-filter: none)) {\n      .barra-acoes {\n        background-color: rgba(255, 255, 255, 0.6) !important;\n        backdrop-filter: blur(5px) !important;\n        -webkit-backdrop-filter: blur(5px) !important;\n      }\n    }\n    .barra-acoes .v-btn > .v-btn__content {\n      justify-content: space-between;\n    }\n  }\n  .text-tab {\n    text-transform: inherit !important;\n    letter-spacing: 0 !important;\n    font-weight: 900 !important;\n  }\n</style>\n\n"]}]}