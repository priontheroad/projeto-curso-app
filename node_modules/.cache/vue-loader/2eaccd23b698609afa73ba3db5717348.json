{"remainingRequest":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/src/components/ResumoXML/OutrasDespesasXml.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/src/components/ResumoXML/OutrasDespesasXml.vue","mtime":1678361197243},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouY2VudGVyZWQtaW5wdXQgaW5wdXQgewogIHRleHQtYWxpZ246IGNlbnRlciAhaW1wb3J0YW50Owp9Ci52LXRleHQtZmllbGQuY2VudGVyZWQtaW5wdXQgLnYtbGFiZWwgewogIGxlZnQ6IDUwJSAhaW1wb3J0YW50OwogIGZvbnQtc2l6ZTogMThweCAhaW1wb3J0YW50OwogIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTsKICAmLnYtbGFiZWwtLWFjdGl2ZSB7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTE4cHgpIHNjYWxlKDAuNzUpIHRyYW5zbGF0ZVgoLTUwJSk7CiAgfQp9CgppbnB1dFtJRD0iZGF0ZSJdOjotd2Via2l0LWlucHV0LXBsYWNlaG9sZGVyIHsKICB2aXNpYmlsaXR5OiBoaWRkZW4gIWltcG9ydGFudDsKfQoudi10ZXh0LWZpZWxkIC52LWljb24gewogIGZvbnQtc2l6ZTogMTZweCAhaW1wb3J0YW50Owp9Ci5hbGluaGEgewogIHRleHQtYWxpZ246IHJpZ2h0Owp9Cg=="},{"version":3,"sources":["OutrasDespesasXml.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0WA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"OutrasDespesasXml.vue","sourceRoot":"src/components/ResumoXML","sourcesContent":["<template>\n  <div>\n    <p class=\"d-flex justify-center informativos-tela ma-0\">Informe os dados relativos a Outras Despesas.\n      <v-tooltip top>\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-icon small color=\"#FFC400\" right v-bind=\"attrs\" v-on=\"on\">mdi-alert-outline</v-icon>\n        </template>\n        <span>Este campo deverá ser preenchido com outras despesas acessórias, como multas e juros de mora, ou qualquer outro custo considerado despesa aduaneira na DI. Exceto Taxa de Utilização do Siscomex.</span>\n      </v-tooltip>\n    </p>\n      \n    <v-data-table\n      v-if=\"dadosXmlImportado.outras_despesas.length > 0\"\n      dense\n      small\n      show-select\n      v-model=\"selected\"\n      :headers=\"headers\"\n      :items=\"dadosXmlImportado.outras_despesas\"\n      locale=\"pt\"\n      class=\"elevation-0 mb-5 mx-10\"\n      :footer-props=\"{\n        sortDesc: true,\n        'items-per-page-options': [5],\n        multiSort: false,\n        showFirstLastPage: true,\n        disableItemsPerPage: true,\n        'items-per-page-text': 'Itens por página',\n        pageText: '{0}-{1} de {2}',\n      }\"\n    >\n      <template v-slot:item=\"props\">\n        <tr>\n          <td>\n            <v-checkbox\n              class=\"pt-1\"\n              hide-details\n              color=\"gray\"\n              :input-value=\"props.isSelected\"\n              @change=\"props.select($event)\"\n            />\n          </td>\n          <td>{{ props.item.descricao | truncate(25, \"...\") }}</td>\n          <td>{{ vlrMoeda(props.item.valor, \"BRL\") }}</td>\n          <td>{{ props.item.incide_icms == true ? \"Sim\" : \"Não\" }}</td>\n          <td>{{ props.item.compoe_vmld == true ? \"Sim\" : \"Não\" }}</td>\n          <td><v-icon small color=\"red\" @click=\"showDeleteDialog(props.item)\">mdi-delete-outline</v-icon></td>\n        </tr>\n      </template>\n      <template v-slot:top>\n        <div class=\"d-flex align-center py-4\">\n          <v-btn\n            :disabled=\"selected.length == 0\"\n            @click=\"deleteItens\"\n            small\n            class=\"btn-delete\"\n          >\n            Excluir\n          </v-btn>\n\n          <v-divider v-show=\"selected.length > 0\" class=\"ml-2 mr-4\" vertical ></v-divider>\n\n          <p v-show=\"selected.length > 0\" class=\"text-body-2 ma-0\">{{ selected.length }} {{ selected.length > 1 ? 'Itens' : 'Item ' }} selecionado{{ selected.length > 1 ? 's' : '' }}</p>\n        </div>\n      </template>\n    </v-data-table>\n\n    <div v-if=\"mostraLinha == false\">\n      <v-row class=\"botao-criar-adicao ma-5\" @click=\"mostraLinha = true\">\n        <v-col cols=\"5\"><v-icon color=\"info\" left>mdi-plus</v-icon></v-col>\n        <v-col cols=\"7\"><span>Adicionar Item</span></v-col>\n      </v-row>\n    </div>\n\n    <div v-if=\"mostraLinha == true\" class=\"ma-5\">\n      <v-row justify=\"center\" no-gutters>\n        <v-col cols=\"9\">\n          <v-text-field\n            v-model=\"dados.descricao\"\n            label=\"Descrição*\"\n            hide-details=\"\"\n            outlined\n            dense\n            class=\"rounded-r-0\"\n            :error-messages=\"descricaoErrors\"\n          />\n        </v-col>\n        <v-col cols=\"3\">\n          <CampoMonetario\n            v-model=\"dados.valor\"\n            :errorMessages=\"valorErrors\"\n            class=\"rounded-l-0\"\n          />\n        </v-col>\n      </v-row>\n      <v-row no-gutters>\n        <v-col>\n          <v-checkbox\n            hide-details\n            v-model=\"dados.incide_icms\"\n            label=\"Incide sobre a Base de cálculo do ICMS\"\n            class=\"mt-2\"\n          />\n          <v-checkbox\n            hide-details\n            v-model=\"dados.compoe_vmld\"\n            label=\"Compõe o Valor Aduaneiro\"\n            class=\"mt-2\"\n          />\n        </v-col>\n        <v-col cols=\"2\" class=\"d-flex justify-end\">\n          <v-btn class=\"botao-item\" @click=\"limpar()\" icon>\n            <v-icon color=\"rgb(255, 0, 0)\" small right>mdi-close</v-icon>\n          </v-btn>\n          <v-btn class=\"botao-item\" icon color=\"primary\" @click=\"salvarItem\">\n            <v-icon small>mdi-plus-circle-outline</v-icon>\n          </v-btn>\n        </v-col>\n      </v-row>\n    </div>\n\n    <v-snackbar\n      transition=\"dialog-bottom-transition\"\n      outlined\n      bottom\n      timeout=\"-1\"\n      v-model=\"dialogDelete\"\n      :elevation=\"8\"\n    >\n      <v-icon color=\"error\" left>mdi-alert-octagon-outline</v-icon>\n      <span>Você tem certeza que deseja excluir {{ selected.length > 1 ? \"estes itens\" : \"este item\" }}?</span>\n      \n      <template v-slot:action=\"{ attrs }\">\n        <v-btn\n          small\n          color=\"primary\"\n          style=\"text-transform: none\"\n          v-bind=\"attrs\"\n          text\n          class=\"elevation-0 ml-6\"\n          @click=\"dialogDelete = false\"\n        >\n          Cancelar\n        </v-btn>\n        <v-btn\n          color=\"red\"\n          small\n          class=\"ml-2 elevation-0\"\n          v-bind=\"attrs\"\n          @click=\"\n            excluirMultiplos == true ? deleteItemConfirm() : deleteItem()\n          \"\n          style=\"text-transform: none; color: white\"\n        >\n          <v-icon small left>mdi-delete-outline</v-icon>\n          Excluir\n        </v-btn>\n      </template>\n    </v-snackbar>\n  </div>\n</template>\n<script>\n  import { mapGetters } from \"vuex\";\n  import formataMoedaMixin from \"@/mixins/formataMoedaMixin\";\n\n  export default {\n    name: \"OutrasDespesasXml\",\n\n    mixins: [formataMoedaMixin],\n\n    props: [\"dadosXmlImportado\"],\n\n    data() {\n      return {\n        indexRenderizacao: 0,\n        mostraLinha: false,\n        dados: {\n          id_declaracao: \"\",\n          descricao: \"\",\n          valor: \"\",\n          compoe_vmld: \"\",\n          incide_icms: \"0\",\n        },\n        headers: [\n          { text: \"Descrição\", align: \"start\", sortable: false, value: \"descricao\", width: 200 },\n          { text: \"Valor\", align: \"start\", sortable: false, value: \"valor\", width: 90 },\n          { text: \"Incide BC\", align: \"start\", sortable: false, value: \"incide_icms\", width: 90 },\n          { text: \"Compõe VMLD\", align: \"start\", sortable: false, value: \"compoe_vmld\", width: 90 },\n          { value: \"actions\", sortable: false, width: 20 },\n        ],\n        selected: [],\n        excluirMultiplos: false,\n        editedIndex: -1,\n        dialogDelete: false,\n        itemToDelete: \"\",\n      };\n    },\n\n    validations: {\n      \"dados.descricao\": {\n        checked() {\n          if (!this.dados.descricao) {\n            return false;\n          }\n          return true;\n        },\n      },\n      \"dados.valor\": {\n        checked() {\n          if (!this.dados.valor) {\n            return false;\n          }\n          return true;\n        },\n      },\n    },\n\n    watch: {\n      loader() {\n        const l = this.loader;\n        this[l] = !this[l];\n\n        setTimeout(() => (this[l] = false), 6000);\n\n        this.loader = null;\n      },\n      mostraLinha(val) {\n        if (val == true) {\n          this.dados = {\n            id_declaracao: \"\",\n            descricao: \"\",\n            valor: \"\",\n            compoe_vmld: \"\",\n            incide_icms: \"\",\n          };\n\n          this.$v.$reset();\n        }\n      },\n      selected(val) {\n        if (val.length == 0 && this.dialogDelete == true) {\n          this.dialogDelete = false;\n        }\n      },\n    },\n\n    computed: {\n      descricaoErrors() {\n        const errors = [];\n        if (!this.$v[\"dados.descricao\"].$dirty) return errors;\n        !this.$v[\"dados.descricao\"].checked && errors.push(\"\");\n        return errors;\n      },\n      valorErrors() {\n        const errors = [];\n        if (!this.$v[\"dados.valor\"].$dirty) return errors;\n        !this.$v[\"dados.valor\"].checked && errors.push(\"\");\n        return errors;\n      },\n\n      ...mapGetters(\"formConsulta\", { formConsulta: \"getState\" }),\n      ...mapGetters(\"modalConsulta\", {\n        handleModalConsulta: \"getModalConsulta\",\n        editandoModalConsulta: \"getEditando\",\n      }),\n    },\n\n    filters: {\n      truncate: function (text, length, suffix) {\n        if (typeof text !== \"undefined\" && text !== null && text !== \"\" && text.length > length) {\n          return text.substring(0, length) + suffix;\n        }\n        return text;\n      },\n    },\n    \n    methods: {\n      verificaLinhaAberta() {\n        return this.mostraLinha;\n      },\n      verificaFormularioOutrasDespesas() {\n        this.$v.$touch();\n        if (!this.$v.$invalid) {\n          return true;\n        }\n        return false;\n      },\n      salvarItem() {\n        //validando\n        this.$v.$touch();\n        if (this.$v.$invalid) {\n          return false;\n        }\n        //pegar dados preenchidos\n\n        //colocar na lista de outras despesas\n        this.dadosXmlImportado.outras_despesas.push(this.dados);\n\n        this.limpar();\n      },\n      limpar() {\n        this.dados = {\n          id_declaracao: \"\",\n          descricao: \"\",\n          valor: \"\",\n          compoe_vmld: \"\",\n          incide_icms: \"0\",\n        };\n        this.mostraLinha = false;\n      },\n      deleteItens() {\n        this.excluirMultiplos = true;\n        this.editedIndex = -1;\n        this.dialogDelete = true;\n      },\n      showDeleteDialog(item) {\n        this.excluirMultiplos = false;\n        this.itemToDelete = item;\n        this.dialogDelete = !this.dialogDelete;\n      },\n      verificaPreenchimento() {\n        this.$v.$touch();\n        if (!this.$v.$invalid) {\n          return true;\n        }\n        return false;\n      },\n      deleteTodos() {\n        this.selected.forEach((elementSelected) => {\n          this.dadosXmlImportado.outras_despesas.forEach((element, index) => {\n            if (element == elementSelected) {\n              this.dadosXmlImportado.outras_despesas.splice(index, 1);\n            }\n          }, elementSelected);\n        });\n\n        this.dialogDelete = false;\n        this.selected = [];\n      },\n      deleteItemConfirm() {\n        let lista_ids = [];\n\n        this.selected.forEach(function (element) {\n          lista_ids.push(element.id);\n        });\n        this.deleteTodos();\n      },\n      deleteItem() {\n        let itemSelecionado = this.itemToDelete;\n        this.dadosXmlImportado.outras_despesas.forEach((element, index) => {\n          if (element == itemSelecionado) {\n            this.dadosXmlImportado.outras_despesas.splice(index, 1);\n          }\n        }, itemSelecionado);\n\n        this.dialogDelete = false;\n        this.selected = [];\n      },\n    },\n  };\n</script>\n<style lang=\"scss\">\n.centered-input input {\n  text-align: center !important;\n}\n.v-text-field.centered-input .v-label {\n  left: 50% !important;\n  font-size: 18px !important;\n  transform: translateX(-50%);\n  &.v-label--active {\n    transform: translateY(-18px) scale(0.75) translateX(-50%);\n  }\n}\n\ninput[ID=\"date\"]::-webkit-input-placeholder {\n  visibility: hidden !important;\n}\n.v-text-field .v-icon {\n  font-size: 16px !important;\n}\n.alinha {\n  text-align: right;\n}\n</style>"]}]}