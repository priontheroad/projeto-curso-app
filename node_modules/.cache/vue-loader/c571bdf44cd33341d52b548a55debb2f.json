{"remainingRequest":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/src/components/ArquivosDiversos/Modal/ModalTermos.vue?vue&type=style&index=1&lang=scss&","dependencies":[{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/src/components/ArquivosDiversos/Modal/ModalTermos.vue","mtime":1678361197239},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/priscila_floriano/Documentos/diversos/rateio-importacao-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmRpdmlzb3IgewogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjYjdjMmNjOwp9CnVsLmIgewogIGxpc3Qtc3R5bGUtdHlwZTogc3F1YXJlOwp9Cg=="},{"version":3,"sources":["ModalTermos.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkKA;AACA;AACA;AACA;AACA;AACA","file":"ModalTermos.vue","sourceRoot":"src/components/ArquivosDiversos/Modal","sourcesContent":["<template>\n  <div>\n    <v-dialog v-model=\"modalTermo\" scrollable persistent max-width=\"80%\">\n      <v-card>\n        <v-card-title class=\"text-h5 lighten-2 divisor\">\n          <div class=\"d-flex justify-space-between\" style=\"min-width: 100%\">\n            <h3 class=\"standard-subtitle\">Termos e Condições de Uso</h3>\n            <v-btn @click=\"modalTermo = false\" icon color=\"red\" class=\"text-h6\">\n              <v-icon>mdi-close</v-icon>\n            </v-btn>\n          </div>\n        </v-card-title>\n        <v-card-text>\n          <v-container>\n            <div class=\"mx-2\" v-html=\"$TERMO_USO\"></div>\n          </v-container>\n        </v-card-text>\n        <v-card-actions\n          v-if=\"aceite == false\"\n          class=\"justify-space-between align-center\"\n        >\n          <v-checkbox\n            v-model=\"checked_termo_uso\"\n            label=\"Estou ciente dos termos de uso\"\n          ></v-checkbox>\n          <v-btn\n            :disabled=\"checked_termo_uso == false\"\n            small\n            v-if=\"aceite == false\"\n            color=\"#2d5071\"\n            class=\"elevation-0 button-check\"\n            @click=\"aceitarTermoUso\"\n          >\n            <span>Eu concordo</span>\n            <v-icon right small>mdi-check</v-icon>\n          </v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <!-- <v-snackbar\n      transition=\"dialog-bottom-transition\"\n      elevation=\"8\"\n      outlined\n      bottom\n      color=\"#FFFCF2\"\n      timeout=\"-1\"\n      v-model=\"snackbarTermo\"\n    >\n      <v-icon color=\"error\" left>mdi-alert-octagon-outline</v-icon>\n      <span style=\"color: black\">Aceite o termo de uso para proseguir.</span>\n      <template v-slot:action=\"{ attrs }\">\n        <v-btn\n          small\n          @click=\"snackbarTermo = false\"\n          color=\"primary\"\n          style=\"text-transform: none\"\n          v-bind=\"attrs\"\n          text\n          class=\"elevation-0 ml-6\"\n          >X</v-btn\n        >\n      </template>\n    </v-snackbar> -->\n  </div>\n</template>\n<script>\nimport { mapGetters } from \"vuex\";\n\nexport default {\n  name: \"ModalTermos\",\n  data() {\n    return {\n      aceite: false,\n      checked_termo_uso: false,\n    };\n  },\n  computed: {\n    modalTermo: {\n      get() {\n        return this.$store.state.termo.modalTermo;\n      },\n      set(newValue) {\n        if (newValue != this.modalTermo) {\n          this.$store.commit(\"termo/setModalTermo\", newValue);\n        }\n      },\n    },\n    snackbarTermo: {\n      get() {\n        return this.$store.state.termo.snackbarTermo;\n      },\n      set(newValue) {\n        if (newValue != this.snackbarTermo) {\n          this.$store.commit(\"termo/setsnackbarTermo\", newValue);\n        }\n      },\n    },\n    handleNovaSimulacao: {\n      get() {\n        return this.$store.state.modalNovaSimulacao.modalNovaSimulacao;\n      },\n      set(newValue) {\n        if (newValue != this.modalSimulacao) {\n          this.$store.commit(\n            \"modalNovaSimulacao/setModalNovaSimulacao\",\n            newValue\n          );\n        }\n      },\n    },\n    ...mapGetters(\"auth\", {\n      id_usuario: \"getIdUsuario\",\n    }),\n  },\n  watch: {\n    modalTermo() {\n      this.checked_termo_uso = false;\n\n      if (!localStorage.getItem(\"aceite_termo\")) {\n        this.aceite = false;\n      } else {\n        this.aceite = true;\n      }\n    },\n  },\n  created() {\n    if (!localStorage.getItem(\"aceite_termo\")) {\n      this.aceite = false;\n    } else {\n      this.aceite = true;\n    }\n  },\n  methods: {\n    aceitarTermoUso() {\n      let dados = { id: this.id_usuario, id_usuario: this.id_usuario };\n\n      this.$root.$api.post(\"/termo_uso\", dados).then(async (response) => {\n        if (response.status == \"200\") {\n          this.aceite = true;\n          this.modalTermo = false;\n          localStorage.setItem(\"aceite_termo\", true);\n\n          this.handleNovaSimulacao = true;\n        } else {\n          this.aceite = false;\n          this.modalTermo = true;\n          localStorage.removeItem(\"aceite_termo\");\n\n          this.handleNovaSimulacao = false;\n        }\n      });\n    },\n  },\n};\n</script>\n<style>\n.button-check {\n  text-transform: none !important;\n  color: #ffffff !important;\n}\n</style>\n<style lang=\"scss\">\n.divisor {\n  border-bottom: 1px solid #b7c2cc;\n}\nul.b {\n  list-style-type: square;\n}\n</style>"]}]}